<form class="signup-email__form js-signup-email-form"
    action="{{ action_url|esc_url }}"
    method="POST"
    data-ga-category="{{ ga_category|esc_attr }}"
    data-ga-label="{{ ga_label|esc_attr }}"
    {% if ga_action %}
        data-ga-action="{{ ga_action|esc_attr }}"
    {% endif %}
>

    <div class="signup-email__form__inner form-group">

        {% if icon or title %}
            <div class="signup-email__header">
                <div class="signup-email__icon">
                    {{ icon }}
                </div>
                <h2 class="signup-email__title">
                    {{ title }}
                </h2>
            </div>
        {% endif %}

        {{ body }}

        <div class="signup-email__input-group input-group">
            <label for="{{ id_email_input|esc_attr }}" class="invisible">
                Email Address
            </label>
            {{ input_icon }}
            <input type="email"
                id="{{ id_email_input|esc_attr }}"
                class="signup-email__email-input input-group__input form-input js-email-input {{ input_class }}"
                name="email_address"
                placeholder="enter your email address"
                required
            />
        </div>

        {% for group_id in group_ids %}
            <input type="hidden" name="group-ids[]" value="{{ group_id|esc_attr }}">
        {% endfor %}
        <input type="hidden" name="group-category" value="{{ group_category }}">

        {% include 'partials/email-forms/form-honeypot.twig' %}

        <button class="signup-email__btn btn--oval js-form-submit" type="submit">
            <span class="signup-email__submit-text js-form-submit-text">Sign Up</span>
            <div class="form-submit__loader js-form-submit-loader">{% include 'partials/loading.twig' %}</div>
        </button>

    </div>

    <div class="js-fail-message invalid-feedback">Something went wrong!</div>

    <div class="signup-email__success-message success-message js-success-message">
        <div class="signup-email__header">
            <div class="signup-email__icon">
                {{ success_icon }}
            </div>

            <p class="signup-email__title">
                <strong>Youâ€™re all set!</strong>
            </p>
        </div>

        <p class="signup-email__subtitle">
            <strong>{{ name }}</strong> will land in your inbox every morning around {{ send_time }}
        </p>

        <div class="signup-email__success-message__details">
            <p>You can add <strong>{{ sender_email_address }}</strong> to your contacts to stop
                overzealous spam filters from eating our messages.</p>
        </div>
    </div>
</form>
