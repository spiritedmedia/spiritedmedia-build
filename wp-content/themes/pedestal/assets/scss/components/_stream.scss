// ==========================================================================
// Pedestal // Components // STREAM
// ==========================================================================


$c: '.c-stream';


#{$c} {
  @include clearfix;
  text-align: left;

  &.is-empty {
    text-align: center;
    font-size: $h3-font-size;
  }

  .is-loading &,
  &.is-loading {
    opacity: $loading-default-opacity;
  }


  &__header {
    margin-top: $stream-item-spacing;

    @media #{$small-only} {
      text-align: center;
    }

    &__item {
      display: inline-block;
    }

    &__rule {
      margin-top: 0;
    }
  }


  /*h1*/&__title {
    font-size: $h4-font-size;
    font-weight: normal;
    text-transform: uppercase;
    font-style: italic;
    color: $dimmed-text-color;
  }


  &__paged {
    #{$c}__header & {
      text-align: left;
      margin-left: $base-spacing-unit / 4;
    }
  }


  &__items {}


  // A stream heading may appear alongside stream items as a way of separating items
  &__heading {
    text-transform: uppercase;
    margin-bottom: $base-spacing-unit * 1.5;

    @if $email {
      font-size: $h5-font-size;
      margin-top: $base-spacing-unit;
    } @else {
      font-size: $h4-font-size;
      margin-top: $base-spacing-unit * 2.5;
    }

    + #{$c}__item {
      margin-top: 0;
    }
  }


  &__item {
    @include clearfix;
    position: relative;
    margin-top: $stream-item-spacing;

    @media #{$medium-up} {
      margin-top: $stream-item-spacing--mq-md-up;
    }

    &:first-child {
      margin-top: 0;
    }

    &:last-child {
      margin-bottom: $stream-item-spacing;
    }

    &__inner {
      clear: both;
    }


    &__pin {
      @media #{$medium-up} {
        float: right;
      }
    }


    &__body {}


    &__title {
      font-weight: normal;
    }


    &__img {}

  } // __item





  //
  // Stream Variations
  // ==========================================================================


  /// Stream with items separated by a pedal rule
  ///
  /// Extends `.c-stream`.
  ///
  /// @TODO do we even need this class at all?
  &--standard {}





  /// Stream with items in singular panel separated by standard borders
  ///
  /// Extends `.c-stream`.
  &--ladder {
    #{$c}__item {
      @include stdbd( 'top' );
      min-height: 0;
      margin-top: 0;
      margin-bottom: 0;
      padding-bottom: $c-panel-padding;

      &:first-of-type {
        border: 0;
      }
    }
  }





  /// Stream with small always-floated thumbnails and title only
  &--imglist {

    #{$c}__item {
      margin-top: $base-spacing-unit * 2;

      &:first-child {
        margin-top: 0;
      }

      &__title {
        @include h-size( 5 );
      }

      &__img {
        width: $stream-imglist-img-size-sm;
        height: $stream-imglist-img-size-sm;

        @media #{$medium-up} {
          width: $stream-imglist-img-size-lg;
          height: $stream-imglist-img-size-lg;
        }

        // scss-lint:disable NestingDepth
        &--placeholder {
          @include img-placeholder( $stream-imglist-img-size-sm );

          @media #{$medium-up} {
            @include img-placeholder( $stream-imglist-img-size-lg );
          }
        } // __item__img--placeholder
      } // __item__img
    } // __item


    &.c-stream--sm {
      #{$c}__item {
        // scss-lint:disable NestingDepth
        margin-top: $stream-item-spacing / 2;

        &__title {
          font-size: $paragraph-font-size;
        }

        &__img {
          width: $stream-imglist-img-size-sm;
          height: $stream-imglist-img-size-sm;

          &--placeholder {
            @include img-placeholder( $stream-imglist-img-size-sm );
          } // __item__img--placeholder
        } // __item__img
      } // __item
    } // &.c-stream--sm
  }





  /// Stream with minor headings as item titles
  &--simple {
    #{$c}__item__title {
      @extend %c-heading--minor;
    }
  } // &--simple
} // end stream





//
// Entity Variations
// ==========================================================================


.c-stream__item--factcheck {
  .c-stream__item__img {
    max-width: $overview-thumbnail-img-size;

    @media #{$small-only} {
      margin-left: auto;
      margin-right: auto;
    }
  }
}


.c-stream__item--event {
  border-bottom: 0;
  padding-bottom: 0;
}





//
// Size Variations
// ==========================================================================


.c-stream--sm {}
